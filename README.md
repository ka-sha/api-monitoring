# API Monitoring Service

Мониторинговый сервис, реализованный на Spring Boot, предназначен для периодического опроса внешнего API, сохранения ответов, а также публикации результатов в Kafka. 
Сервис работает с встроенной базой данных H2 и использует Kafka, развёрнутую через Docker.

---

## Архитектура и принятые решения

### Компоненты:
- **Spring Boot 3** — основа приложения
- **H2 Database** — используется для хранения истории запросов без необходимости внешнего СУБД
- **Spring Retry** — обеспечивает повторный запрос к внешнему API при ошибках
- **Spring Scheduling** — отвечает за регулярный опрос API
- **Apache Kafka** — сообщения об успешных и неудачных запросах отправляются в разные топики
- **Spring Security (Basic Auth)** — реализована авторизация с ролями `USER` и `ADMIN`
- **Lombok** — упрощает структуру
- **REST API** — предоставлены контроллеры для проверки статуса и получения данных

---

## Инструкция по запуску

### 1. Запустить Kafka и Zookeeper

```bash
docker-compose up -d
```
### 2. Запустить Spring-Boot приложение

Запуск можно произвести, как средствами IDEA, так и напрямую запустив JAR:
```bash
java -jar build/libs/api-monitoring-service-1.0-SNAPSHOT.jar
```